{{ define "main" }}
<div class="container-fluid content-box">
  <div class="row content-row">
	<div class="col-12 col-md-3 col-xl-2 sub-menu">
	  {{- partial "side_menu.html" . -}}
	</div>
	<div class="col-12 col-md-9 col-xl-8 content">
		<h1>{{i18n "search_on_mycore_org"}}</h1>
    <form action="{{ "search" | absURL }}" class="mt-3">
      <div class="input-group mt-2 input-group-sm">
        <input id="search-query" name="s" type="text" class="form-control" placeholder="{{ i18n "search_input" }}" aria-label="search on website"></input>
        <div class="input-group-append">
          <button class="btn btn-secondary" type="submit" id="mcr-btn-sitesearch"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </form>
    <h3 class="mt-4">{{i18n "search_hits"}}</h3>
    <div id="search-results" class="mt-3" >
     	
    </div>
  </div>
	<div class="d-none d-xl-block col-xl-2 toc-menu">
		{{/* 
			{{- partial "toc.html" . -}}    
		 */}}
	 </div>
  </div>
</div>


<script src='{{ relURL "_gen/fuse.js/dist/fuse.min.js"}}'></script>
<script src="{{ "js/search.js" | absURL }}"></script>
<!-- this template is sucked in by search.js and appended to the search-results div above. So editing here will adjust style -->
<!-- TODO check if <template> can be used here -->
<script id="search-result-template" type="text/x-js-template">
    <div id="summary-${key}">
      <h4><a href="${link}">${title}</a></h4>
      <p>${snippet}</p>
      ${ isset tags }<p>Tags: ${tags}</p>${ end }
      ${ isset categories }<p>Categories: ${categories}</p>${ end }
    </div>
</script>
{{ end }}
